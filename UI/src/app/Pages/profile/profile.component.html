<div class="container">
  <!--Heading -->
    <div class="image">
        <img class="cover" mat-card-cover src="http://localhost:8080/public/upload/{{userProfile.cover}}" alt="">
        <label for="change-cover" class="changeCover"> <mat-icon>photo_camera</mat-icon> Đổi ảnh bìa </label>
      <input class = "changeCover" id="change-cover" type="file" (change)= "changeCover($event)" hidden=true>
    </div>
    <div class="image">
      <img class="avatar" src="http://localhost:8080/public/upload/{{userProfile.avatar}} " mat-card-avatar >
      <label for="change-avatar" class="changeAvatar"> <mat-icon>photo_camera</mat-icon> </label>
      <input class = "changeAvatar" id="change-avatar" type="file" (change)= "changeAvatar($event)" hidden=true>
    </div>
    <div class="divUserName">
      <span class="UserName"> {{userProfile.name}} </span>
    </div>
    <div class="divBiology">
      <span class="Biology">{{userProfile.description}}</span>
    </div>
    <a mat-stroked-button (click)="onAddNewFriend()" class="AddFriendButtonHeading" > Thêm bạn </a>

<!--Routing button-->
    <mat-tab-group style="padding-top:20px; width:100%;" mat-align-tabs="center">
      <mat-tab label="Dòng thời gian" class="TimeLine">
        <!--Content -->
        <div class="content">
          <div class="row">
            <div class="col-lg-5">
              <mat-card class="CountRating">
                <mat-card-content>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="count">
                        <span class="countTop">2</span> <br>
                        <div class="countBottom">
                          <span class="countBottom">Lượt theo dõi</span>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="count">
                        <span class="countTop">2</span><br>
                        <div class="countBottom">
                          <span class="countBottom">Bài viết</span>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="countlast">
                        <span class="countTop">2</span><br>
                        <div class="countBottom">
                          <span class="countBottom">Lượt thích</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
              <mat-card class="About">
                <mat-card-content>
                  <div class="row">
                    <div class="AboutHeader">
                      <span>Giới thiệu</span>
                    </div>
                    <div class="AboutContent">
                      <mat-icon class="AboutIcon">person</mat-icon> <span> Giới tính: <mat-icon class="AboutIcon" style="color:blue;">male female</mat-icon> {{userProfile.gender}}</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="AboutHeader">
                      <span>Sở thích</span>
                    </div>
                    <div class="AboutContent">
                      <mat-chip-list aria-label="Fish selection">
                        <mat-chip><mat-icon>palette</mat-icon> Vẽ </mat-chip>
                        <mat-chip><mat-icon>headphones</mat-icon> Nghe nhạc </mat-chip>
                      </mat-chip-list>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
              <mat-card class="Friend">
                <mat-card-content>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="AboutHeader">
                        Bạn bè
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div style="float:right;" class="AboutHeader">
                        0
                      </div>
                    </div>
                  </div>

                  <div class="AboutContent">
                    Bạn bè
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="col-lg-7">
              <div class="StatusPost">
                <!--Status Post-->
              <mat-accordion *ngIf="_auth.loggedIn()" multi>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    Chào {{userProfile.name}}, ngày hôm nay của bạn thế nào?
                  </mat-expansion-panel-header>

                  <mat-tab-group mat-align-tabs="center">
                    <mat-tab label="Đăng bài viết">
                      <form>
                        <img src="http://localhost:8080/public/upload/{{userProfile.avatar}} " mat-card-avatar >
                        <mat-form-field class="full-width" appearance="outline" style="margin-top:10px;margin-left:10px;width:80%">
                          <mat-label>Bạn muốn chia sẻ điều gì?</mat-label>
                            <input
                              class="CreatePost"
                              formControlName="content"
                              matInput
                              placeholder="Bạn muốn chia sẻ điều gì?"
                            />
                        </mat-form-field>
                        <a mat-raised-button class="UploadImages"></a>
                        <br />
                        <button mat-flat-button type="submit" [disabled]="!PostForm.valid" class="submitPostBtn"> Chia sẻ </button>
                      </form>
                    </mat-tab>

                    <mat-tab label="Đăng ảnh">
                      <form (ngSubmit)="onAddNewPost()" name="PostForm" [formGroup]="PostForm">
                        <img src="http://localhost:8080/public/upload/{{userProfile.avatar}} " mat-card-avatar >
                        <mat-form-field class="full-width" appearance="outline" style="margin-top:10px;margin-left:10px;width:75%">
                          <mat-label>Bạn muốn chia sẻ điều gì?</mat-label>
                            <input
                              class="CreatePost"
                              formControlName="content"
                              matInput
                              placeholder="Bạn muốn chia sẻ điều gì?"
                            />
                        </mat-form-field>
                        <a mat-raised-button class="UploadImages">
                          <label mat-button for="UploadImages" ><mat-icon style="margin: 5px 5px; size:50px 50px; " >image</mat-icon></label>
                          <input
                            id="UploadImages" type="file" (change)= "UploadImages($event)" hidden=true;
                          />
                        </a>
                        <br />
                        <button mat-flat-button type="submit" [disabled]="!PostForm.valid" class="submitPostBtn"> Chia sẻ </button>
                      </form>
                    </mat-tab>
                  </mat-tab-group>
                </mat-expansion-panel>
              </mat-accordion>

              </div>
              <!-- POST -->
              <div class="Post" *ngFor="let post of getPost">
                <mat-card class="example-card">
                <mat-card-header>
                  <img mat-card-avatar class="example-header-image" src="http://localhost:8080/public/upload/{{post.UserAvatar}}"/>
                  <mat-card-title>{{post.UserName}}</mat-card-title>
                  <mat-card-subtitle>{{post.date}}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                  <p>
                    {{post.content}}
                  </p>
                </mat-card-content>
                <img mat-card-image src="http://localhost:8080/public/upload/{{post.images}}">
                <mat-card-actions>
                  <button mat-button (click)="LikedColorChange()" [color]="likedColor">Thích</button>
                  <button mat-button (click)="openComment = !openComment">Bình luận</button>
                  <button mat-button>Chia sẻ</button>
                </mat-card-actions>
                <mat-card-actions>
                <div class="comment" [hidden] = false>
                  <div class="comment" *ngFor = "let comment of post.Comments" style="padding: 10px 10px; margin-top:10px; margin-bottom:10px;  ">
                    <div class="row">
                      <div class="col-sm-1">
                        <img mat-card-avatar src="http://localhost:8080/public/upload/{{post.images}}">
                      </div>
                      <div class="col-sm-11">
                        <div class="rightCommentLayout">
                          <div class="rightTopCommentLayout">
                            <span style="font-size: 20px;font-weight: normal; padding: 10px 10px; margin-top:10px; margin-bottom:10px;">{{comment.UserName}}</span><br>
                          </div>
                          <div class="rightBottomCommentLayout">
                            <span style="font-size: 13px;font-weight: normal; padding: 0px 10px; margin-top:0px; margin-bottom:10px;">{{comment.content}}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <form (ngSubmit)="onAddNewComment(post.Post_ID)" name="CommentForm" [formGroup]="CommentForm">
                    <img src="http://localhost:8080/public/upload/{{userProfile.avatar}} " mat-card-avatar >
                    <mat-form-field class="full-width" style="margin-left:10px; margin-right:10px; width:65%" >
                      <mat-label>Để lại bình luận...</mat-label>
                      <input matInput placeholder="Đợi chút, bức ảnh này..." class="full-width" formControlName="content"/>
                    </mat-form-field>
                    <button mat-flat-button type="submit" [disabled]="!CommentForm.valid" class="commentSubmitBtn"> Chia sẻ </button>
                  </form>
                </div>
                </mat-card-actions>
                <mat-card-footer>

                </mat-card-footer>
              </mat-card>
              </div>

            </div>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Giới thiệu">
        <h2>Giới thiệu</h2>
        <!-- TODO: Sua thong tin ca nhan -->
        <div class="">

        </div>
      </mat-tab>
      <mat-tab label="Bạn bè"> Danh sách bạn bè </mat-tab>
    </mat-tab-group>



</div>
